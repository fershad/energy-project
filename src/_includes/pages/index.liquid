---
layout: layouts/base
---
{% assign lastMonth = productionData.latestMonth %}

{% include "partials/masthead", mastheadHeadline: headline %}
<main class="wrapper flow" data-wraps="content" id="main-content">
    <section id="intro">
        <h1>{{ site.name | defaultLocale: locale }}</h1>
        <p>{{ page.homepage.intro | defaultLocale: locale | safe }}</p>
    </section>

    <section id="data">
        <h2 data-style="regular">{{ page.homepage.data.heading | defaultLocale: locale }}</h2>
        <p class="subheading underlined" data-color="ocean-green">
            {% unless locale == 'zh' %}
                {{ lastMonth.latestMonth | escape | date: "%B"}}
                {{ lastMonth.latestYear | plus: 1911}}
            {% else %}
                {{ lastMonth.latestYear | plus: 1911}}年{{ lastMonth.latestMonth }}月
            {% endunless %}
        </p>
        <div class="swiper">
            {% unless locale == 'zh' %}
                {% capture lastYearMonth %}
                    {{ lastMonth.lastYearMonth | escape | date: "%b" }}.
                    {{ lastMonth.lastYear | plus: 1911 }}
                {% endcapture %}
            {% else %}
                {% capture lastYearMonth %}
                    {{ lastMonth.lastYear | plus: 1911 }}年{{ lastMonth.lastYearMonth }}月
                {% endcapture %}
            {% endunless %}
            <!-- Grid showing Clean Energy % -->
            {% assign totalValues = lastMonth.total.lowCarbon.total %}
            {% assign totalChange = lastMonth.total.lowCarbon.change %}
            {% assign gridCols = 2 %}
            {% include "partials/homepage-grid", renewable: false %}

            {% assign totalValues = lastMonth.total.renewable.total %}
            {% assign totalChange = lastMonth.total.renewable.change %}
            {% assign gridCols = 3 %}
            <!-- Grid showing Renewable Energy % -->
            {% include "partials/homepage-grid", renewable: true %}
        </div>
    </section>

    <div class="divider" data-type="hills">
        {% include "svg/windmill.svg" %}
        {% include "svg/windmill.svg" %}
        {% include "svg/hills.svg" %}
    </div>

    <section data-divider="regular" id="action">
        {% assign homepageActions = collections.homepageActionsEN %}

        {% if locale == zh %}
            {% assign homepageActions = collections.homepageActionsZH %}
        {% endif %}

        <h2>{{ nav.action | defaultLocale: locale | capitalize }}</h2>
        <p>{{ page.homepage.action.paragraph | defaultLocale: locale | safe }}</p>
        <div class="action-grid sub-grid flow" data-cols="5">
            {% for action in homepageActions limit: 3 reversed %}
                <div class="action">
                    <img src="{{ action.data.thumbnail.src }}" alt="{{ action.data.thumbnail.alt }}" width="120" height="120" class="action--thumbnail">
                    <div class="action--content">
                        <p class="action--content heading">{{ action.data.title }}</p>
                        <p>{{ action.data.subtag }}</p>
                    </div>
                </div>
            {% endfor %}
        </div>
    </section>

    <section id="news">
        {% assign localeNews = news | getLocalized: locale %}

        <h2>{{ nav.news | defaultLocale: locale | capitalize }}</h2>
        <p>{{ page.homepage.news.paragraph | defaultLocale: locale | safe }}</p>

        {% for story in localeNews limit: 5 %}
            <div class="article">
                <a href="{{ story[1].link }}" data-external>{{ story[1].title }}</a>
                <p class="author" data-color="ocean-green">{{ story[1].author }}</p>
                <small class="text-right">Published on
                    {{story[1].publishedDate | date: "%B %e, %Y"}}
                    @
                    {{ story[1].platform }}</small>
            </div>
        {% endfor %}

    </section>
</main>